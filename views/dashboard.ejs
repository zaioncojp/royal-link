<!DOCTYPE html>
<html lang="ja">
<%- include('partials/header') %>
<body>
  <!-- Background effects -->
  <div class="bg-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <div class="dashboard-container">
    <!-- Sidebar -->
    <%- include('partials/sidebar') %>

    <!-- Main content -->
    <div class="main-content">
      <header class="top-bar">
        <h1>ダッシュボード</h1>
      </header>

      <% if (error) { %>
        <div class="alert alert-error">
          <i class="fas fa-exclamation-circle"></i> <%= error %>
        </div>
      <% } %>

      <% if (success) { %>
        <div class="alert alert-success">
          <i class="fas fa-check-circle"></i> <%= success %>
        </div>
      <% } %>

      <!-- URL shortening form -->
      <%- include('partials/url-form') %>

      <!-- URLs list -->
      <%- include('partials/urls-list') %>

      <!-- Domains list -->
      <%- include('partials/domains-list') %>
    </div>
  </div>

  <script>
    // タブ切り替え機能
    document.addEventListener('DOMContentLoaded', function() {
      const tabBtns = document.querySelectorAll('.tab-btn');
      
      tabBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          
          // 全てのタブボタンからアクティブクラスを削除
          tabBtns.forEach(btn => btn.classList.remove('active'));
          // 全てのタブパネルを非表示に
          document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
          
          // クリックされたタブボタンをアクティブに
          this.classList.add('active');
          // 対応するタブパネルを表示
          document.getElementById(`${tabId}-tab`).classList.add('active');
        });
      });
    });
  </script>
</body>
</html>